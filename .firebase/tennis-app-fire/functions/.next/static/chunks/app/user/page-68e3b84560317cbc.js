(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{1667:function(e,t,i){Promise.resolve().then(i.bind(i,2076))},2048:function(e,t,i){"use strict";i.d(t,{I:function(){return o},db:function(){return r}});var s=i(994),n=i(8153),a=i(4086);let l=(0,s.C6)().length?(0,s.C6)()[0]:(0,s.ZF)({apiKey:"AIzaSyCIT22s3VbLa1a0fsNNvbQfGDlu3HqXojY",authDomain:"tennis-app-fire.firebaseapp.com",projectId:"tennis-app-fire",storageBucket:"tennis-app-fire.appspot.com",messagingSenderId:"966704070093",appId:"1:966704070093:web:ea1a2f23ec3b33b4cc5884"}),o=(0,n.v0)(l),r=(0,a.ad)(l)},2076:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var s=i(7437),n=i(2265),a=i(2048),l=i(4086),o=e=>{let{tournamentId:t}=e,[i,o]=(0,n.useState)(""),[r,m]=(0,n.useState)(""),u=async e=>{if(e.preventDefault(),!t){alert("There is no championship available");return}try{let e=(0,l.hJ)(a.db,"participants"),s=(0,l.IO)(e,(0,l.ar)("email","==",r.toString())),n=await (0,l.PL)(s);if(n.docs.length>0){alert("This email is already registered."),o(""),m("");return}await (0,l.ET)(e,{championshipid:t.toString(),email:r.toString(),name:i.toString()}),alert("successfully registered"),o(""),m("")}catch(e){console.log("Something went wrong:",e.message),alert("Something went wrong:",e.message)}};return(0,s.jsxs)("div",{className:"mt-4 p-4 bg-transparent rounded-md",children:[(0,s.jsx)("h2",{className:"text-xl font-bold leading-9 tracking-tight text-white mb-4",children:"Register for Championship"}),(0,s.jsxs)("form",{onSubmit:u,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-white",children:"Username"}),(0,s.jsx)("input",{id:"username",name:"username",type:"text",value:i,onChange:e=>o(e.target.value),autoComplete:"username",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-white",children:"Email"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",value:r,onChange:e=>m(e.target.value),autoComplete:"email",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"w-full bg-indigo-500 text-white py-2 px-4 rounded-md hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:"Submit"})})]})]})},r=()=>{let[e,t]=(0,n.useState)([]),[i,r]=(0,n.useState)({showForm:!1,tournamentId:null});console.log(i);let m=async()=>{let e=(0,l.hJ)(a.db,"championships"),i=await (0,l.PL)(e),s=i.docs.map(e=>({id:e.id,...e.data()}));t(s)};(0,n.useEffect)(()=>{m()},[]);let u=e=>{r({showForm:!0,tournamentId:e})},d=()=>{r({showForm:!1,tournamentId:null})};return(0,s.jsxs)("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[(0,s.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,s.jsx)("img",{className:"mx-auto h-10 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=500",alt:"Your Company"}),(0,s.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white",children:"Tournament Registration"})]}),(0,s.jsx)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm space-y-4 bg-green-500 bg-opacity-75 p-4 rounded-md",children:null==e?void 0:e.map(e=>(0,s.jsxs)("div",{className:"bg-indigo-500 rounded-md p-4 text-white",children:[(0,s.jsx)("h3",{className:"text-3xl font-semibold mb-4 text-center",children:e.id}),(0,s.jsx)("button",{onClick:()=>u(e.id),className:"w-full bg-indigo-700 text-white py-2 px-4 rounded-md transform transition-transform hover:scale-105 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",children:"Register"}),i.showForm&&i.tournamentId===e.id&&i.tournamentId?(0,s.jsx)(o,{tournamentId:i.tournamentId,onClose:d}):null]},e.id))})]})}}},function(e){e.O(0,[358,565,647,971,472,744],function(){return e(e.s=1667)}),_N_E=e.O()}]);